<mxfile host="app.diagrams.net" modified="2026-01-30T21:24:00.000Z" agent="5.0" etag="arquitectura-sistema" version="24.0.0" type="device">
  <diagram id="arquitectura-sistema-hmc" name="Arquitectura del Sistema">
    <mxGraphModel dx="1434" dy="836" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Título Principal -->
        <mxCell id="titulo" value="H-M-C INVENTORY MANAGEMENT SYSTEM&#xa;Arquitectura: Cliente-Servidor de 3 Capas&#xa;Patrón: MVC (Model-View-Controller) + Repository Pattern" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#1a1a2e;" vertex="1" parent="1">
          <mxGeometry x="284.5" y="10" width="600" height="60" as="geometry" />
        </mxCell>

        <!-- ====== CAPA DE PRESENTACIÓN (Frontend) ====== -->
        <mxCell id="capa-presentacion" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="90" width="350" height="380" as="geometry" />
        </mxCell>
        <mxCell id="titulo-presentacion" value="CAPA DE PRESENTACIÓN&#xa;(Frontend - React/Vite)" style="text;html=1;strokeColor=none;fillColor=#6c8ebf;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="70" y="100" width="290" height="30" as="geometry" />
        </mxCell>

        <!-- React App -->
        <mxCell id="react-app" value="React Application&#xa;(SPA - Vite)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1877F2;strokeColor=#0D5DBF;fontColor=#ffffff;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="140" y="140" width="150" height="40" as="geometry" />
        </mxCell>

        <!-- UI Components -->
        <mxCell id="ui-components" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="60" y="190" width="310" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ui-title" value="Componentes UI" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="165" y="193" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- Pages Grid -->
        <mxCell id="page-auth" value="Auth&#xa;(Login, Register)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="215" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="page-dashboard" value="Dashboard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="145" y="215" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="page-products" value="Products&#xa;(CRUD)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="220" y="215" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="page-sales" value="Sales&#xa;(POS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="295" y="215" width="65" height="40" as="geometry" />
        </mxCell>
        <mxCell id="page-analytics" value="Analytics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="260" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="page-inventory" value="Inventory Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="145" y="260" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="page-categories" value="Categories" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="220" y="260" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="page-brands" value="Brands" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="295" y="260" width="65" height="35" as="geometry" />
        </mxCell>

        <!-- State Management -->
        <mxCell id="state-management" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="60" y="320" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="redux" value="Redux Toolkit&#xa;(Estado Global)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#764ABC;strokeColor=#5A3A8E;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="70" y="328" width="95" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tanstack" value="TanStack Query&#xa;(Server State)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF4154;strokeColor=#CC3443;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="170" y="328" width="95" height="45" as="geometry" />
        </mxCell>
        <mxCell id="axios" value="Axios&#xa;(HTTP Client)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#5A29E4;strokeColor=#4520B5;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="270" y="328" width="90" height="45" as="geometry" />
        </mxCell>

        <!-- Styling -->
        <mxCell id="styling" value="Tailwind CSS + Animate.css + AOS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#38BDF8;strokeColor=#0EA5E9;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="60" y="390" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="notifications" value="Toast + SweetAlert2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F59E0B;strokeColor=#D97706;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="215" y="390" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="recharts" value="Recharts" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8884D8;strokeColor=#6B6BB2;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="350" y="390" width="60" height="30" as="geometry" />
        </mxCell>

        <!-- Router -->
        <mxCell id="router" value="React Router DOM v6" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#CA4245;strokeColor=#A13537;fontColor=#ffffff;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="60" y="430" width="150" height="25" as="geometry" />
        </mxCell>

        <!-- ====== FLECHA HTTP ====== -->
        <mxCell id="arrow-http" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#0D47A1;entryX=0;entryY=0.5;exitX=1;exitY=0.5;" edge="1" parent="1" source="capa-presentacion" target="capa-negocio">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="280" as="sourcePoint" />
            <mxPoint x="450" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-http" value="HTTP/REST&#xa;JSON + CORS&#xa;Port: 5173 → 5000" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#0D47A1;" vertex="1" parent="1">
          <mxGeometry x="393" y="245" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- ====== CAPA DE NEGOCIO (Backend) ====== -->
        <mxCell id="capa-negocio" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="500" y="90" width="340" height="380" as="geometry" />
        </mxCell>
        <mxCell id="titulo-negocio" value="CAPA DE LÓGICA DE NEGOCIO&#xa;(Backend - Node.js/Express)" style="text;html=1;strokeColor=none;fillColor=#82b366;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="525" y="100" width="290" height="30" as="geometry" />
        </mxCell>

        <!-- Express Server -->
        <mxCell id="express-server" value="Express.js Server&#xa;(ES Modules)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#333333;fontColor=#ffffff;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="590" y="140" width="150" height="40" as="geometry" />
        </mxCell>

        <!-- Middleware Layer -->
        <mxCell id="middleware-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="515" y="190" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="middleware-title" value="Middleware Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="520" y="192" width="100" height="15" as="geometry" />
        </mxCell>
        <mxCell id="passport" value="Passport.js&#xa;(Session Auth)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34D399;strokeColor=#059669;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="520" y="208" width="75" height="28" as="geometry" />
        </mxCell>
        <mxCell id="cors" value="CORS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60A5FA;strokeColor=#3B82F6;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="600" y="208" width="45" height="28" as="geometry" />
        </mxCell>
        <mxCell id="session" value="Session" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A78BFA;strokeColor=#7C3AED;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="650" y="208" width="45" height="28" as="geometry" />
        </mxCell>
        <mxCell id="auth-middleware" value="Auth Guards&#xa;(Role-based)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F87171;strokeColor=#DC2626;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="700" y="208" width="70" height="28" as="geometry" />
        </mxCell>
        <mxCell id="validator" value="Validators" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FBBF24;strokeColor=#D97706;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="775" y="208" width="45" height="28" as="geometry" />
        </mxCell>

        <!-- MVC Pattern Box -->
        <mxCell id="mvc-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="515" y="250" width="310" height="145" as="geometry" />
        </mxCell>
        <mxCell id="mvc-title" value="PATRÓN MVC (Model-View-Controller)" style="text;html=1;strokeColor=none;fillColor=#666666;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=11;fontStyle=1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="565" y="255" width="210" height="20" as="geometry" />
        </mxCell>

        <!-- Routes (View Entry) -->
        <mxCell id="routes-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="520" y="280" width="145" height="105" as="geometry" />
        </mxCell>
        <mxCell id="routes-title" value="Routes (API Endpoints)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="535" y="282" width="115" height="15" as="geometry" />
        </mxCell>
        <mxCell id="route1" value="/api/auth" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="525" y="298" width="65" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route2" value="/api/products" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="593" y="298" width="68" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route3" value="/api/sales" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="525" y="318" width="65" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route4" value="/api/analytics" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="593" y="318" width="68" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route5" value="/api/categories" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="525" y="338" width="65" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route6" value="/api/brands" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="593" y="338" width="68" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route7" value="/api/users" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="525" y="358" width="65" height="18" as="geometry" />
        </mxCell>
        <mxCell id="route8" value="/api/inventory-logs" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#64B5F6;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="593" y="358" width="68" height="18" as="geometry" />
        </mxCell>

        <!-- Controllers -->
        <mxCell id="controllers-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="670" y="280" width="75" height="105" as="geometry" />
        </mxCell>
        <mxCell id="controllers-title" value="Controllers&#xa;(8 files)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="670" y="300" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="controller-detail" value="• authController&#xa;• productController&#xa;• saleController&#xa;• analyticsController&#xa;• ..." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="673" y="325" width="70" height="55" as="geometry" />
        </mxCell>

        <!-- Models -->
        <mxCell id="models-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="750" y="280" width="70" height="105" as="geometry" />
        </mxCell>
        <mxCell id="models-title" value="Models&#xa;(7 files)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="750" y="300" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="model-detail" value="• userModel&#xa;• productModel&#xa;• saleModel&#xa;• analyticsModel&#xa;• ..." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="753" y="325" width="65" height="55" as="geometry" />
        </mxCell>

        <!-- Arrows MVC -->
        <mxCell id="arrow-route-ctrl" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#82b366;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="665" y="332" as="sourcePoint" />
            <mxPoint x="670" y="332" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-ctrl-model" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;entryX=0;entryY=0.5;strokeColor=#d79b00;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="745" y="332" as="sourcePoint" />
            <mxPoint x="750" y="332" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Utils -->
        <mxCell id="utils-box" value="Utils: helpers.js&#xa;(Tokens, Profit Calc)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="515" y="405" width="110" height="35" as="geometry" />
        </mxCell>

        <!-- Config -->
        <mxCell id="config-box" value="Config: database.js,&#xa;passport.js, email.js, session.js" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="630" y="405" width="110" height="35" as="geometry" />
        </mxCell>

        <!-- Nodemailer -->
        <mxCell id="nodemailer" value="Nodemailer&#xa;(Email)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#1DA1F2;strokeColor=#1A91DA;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="745" y="405" width="75" height="35" as="geometry" />
        </mxCell>

        <!-- ====== FLECHA DB ====== -->
        <mxCell id="arrow-db" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#6B7280;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="capa-negocio" target="capa-datos">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="850" y="280" as="sourcePoint" />
            <mxPoint x="900" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-db" value="node-postgres&#xa;Pool Connection&#xa;Port: 5432" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#6B7280;" vertex="1" parent="1">
          <mxGeometry x="843" y="245" width="95" height="50" as="geometry" />
        </mxCell>

        <!-- ====== CAPA DE DATOS (Database) ====== -->
        <mxCell id="capa-datos" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="950" y="90" width="200" height="380" as="geometry" />
        </mxCell>
        <mxCell id="titulo-datos" value="CAPA DE DATOS&#xa;(PostgreSQL)" style="text;html=1;strokeColor=none;fillColor=#b85450;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="970" y="100" width="160" height="30" as="geometry" />
        </mxCell>

        <!-- PostgreSQL -->
        <mxCell id="postgres" value="PostgreSQL 12+" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#336791;strokeColor=#254E6B;fontColor=#ffffff;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="990" y="140" width="120" height="60" as="geometry" />
        </mxCell>

        <!-- Tables -->
        <mxCell id="tables-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="960" y="210" width="180" height="175" as="geometry" />
        </mxCell>
        <mxCell id="tables-title" value="Tablas (7)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1015" y="213" width="70" height="18" as="geometry" />
        </mxCell>
        <mxCell id="table1" value="users" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="970" y="235" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table2" value="products" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1055" y="235" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table3" value="product_variants" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="970" y="262" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table4" value="sales" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1055" y="262" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table5" value="categories" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="970" y="289" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table6" value="brands" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1055" y="289" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table7" value="inventory_logs" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="970" y="316" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="table8" value="user_sessions" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8D5B7;strokeColor=#C4A35A;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="1055" y="316" width="75" height="22" as="geometry" />
        </mxCell>
        <mxCell id="indexes" value="+ 11 Índices de Performance" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="990" y="342" width="130" height="18" as="geometry" />
        </mxCell>
        <mxCell id="triggers" value="+ 5 Triggers (updated_at)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="990" y="358" width="130" height="18" as="geometry" />
        </mxCell>

        <!-- UUID -->
        <mxCell id="uuid-ext" value="uuid-ossp Extension" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#336791;strokeColor=#254E6B;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="970" y="395" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="functions" value="2 Functions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#336791;strokeColor=#254E6B;fontColor=#ffffff;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1055" y="395" width="75" height="25" as="geometry" />
        </mxCell>

        <!-- ====== LEYENDA ====== -->
        <mxCell id="legend" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#333333;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="490" width="1110" height="80" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="PATRONES ARQUITECTÓNICOS IDENTIFICADOS" style="text;html=1;strokeColor=none;fillColor=#333333;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;fontSize=12;fontStyle=1;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="50" y="498" width="300" height="22" as="geometry" />
        </mxCell>
        <mxCell id="pattern1" value="✓ Arquitectura de 3 Capas (Presentación, Negocio, Datos)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="60" y="525" width="280" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern2" value="✓ MVC (Model-View-Controller) en Backend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="60" y="543" width="250" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern3" value="✓ Repository Pattern (Models encapsulan acceso a datos)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="350" y="525" width="280" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern4" value="✓ RESTful API (Endpoints HTTP estándar)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="350" y="543" width="250" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern5" value="✓ SPA (Single Page Application) en Frontend" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="640" y="525" width="250" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern6" value="✓ Flux/Redux Pattern (Gestión de estado unidireccional)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="640" y="543" width="290" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern7" value="✓ Middleware Chain Pattern" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="940" y="525" width="180" height="18" as="geometry" />
        </mxCell>
        <mxCell id="pattern8" value="✓ RBAC (Role-Based Access Control)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="940" y="543" width="200" height="18" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
