<mxfile host="app.diagrams.net">
  <diagram name="Arquitectura Sistema MVC-SPA" id="arch-sistema">
    <mxGraphModel dx="1600" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- TÃTULO PRINCIPAL -->
        <mxCell id="title" value="ARQUITECTURA MVC + SPA MONOLÃTICA CON REST API" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="350" y="10" width="600" height="40" as="geometry"/>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- CAPA CLIENTE - NAVEGADOR WEB -->
        <!-- ============================================ -->
        <mxCell id="browser-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=3" vertex="1" parent="1">
          <mxGeometry x="500" y="60" width="200" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="browser-icon" value="ðŸŒ NAVEGADOR WEB&#10;Cliente HTTP" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="520" y="65" width="160" height="40" as="geometry"/>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- CONTENEDOR FRONTEND VUE.JS -->
        <!-- ============================================ -->
        <mxCell id="frontend-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=3;dashed=0" vertex="1" parent="1">
          <mxGeometry x="40" y="140" width="460" height="400" as="geometry"/>
        </mxCell>
        <mxCell id="frontend-title" value="ðŸ“¦ FRONTEND - Vue.js 2.x SPA Component-Based Architecture" style="text;html=1;strokeColor=none;fillColor=#d6b656;align=center;fontSize=14;fontStyle=1;rounded=1" vertex="1" parent="1">
          <mxGeometry x="60" y="150" width="420" height="25" as="geometry"/>
        </mxCell>
        
        <!-- Entry Point app.js -->
        <mxCell id="appjs" value="ðŸ“„ app.js (Entry Point)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â€¢ Inicializa Vue&#10;â€¢ Configura Vue Router&#10;â€¢ Registra helpers globales&#10;  (User, Notification, Swal)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;fontSize=10;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="60" y="185" width="200" height="95" as="geometry"/>
        </mxCell>
        
        <!-- Vue Router -->
        <mxCell id="vue-router" value="ðŸ”€ Vue Router (routes.js)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â€¢ NavegaciÃ³n SPA sin recarga&#10;â€¢ 30+ rutas definidas&#10;â€¢ Modo: history (URLs limpias)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;fontSize=10;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="280" y="185" width="200" height="95" as="geometry"/>
        </mxCell>
        
        <!-- Componentes Vue -->
        <mxCell id="components" value="ðŸ§© COMPONENTES VUE (34 archivos .vue)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;auth/          category/       customer/&#10;â”œâ”€ login       â”œâ”€ index        â”œâ”€ index&#10;â”œâ”€ register    â”œâ”€ create       â”œâ”€ create&#10;â”œâ”€ logout      â””â”€ edit         â””â”€ edit&#10;â””â”€ forget&#10;&#10;employee/      product/        supplier/&#10;â”œâ”€ index       â”œâ”€ index        â”œâ”€ index&#10;â”œâ”€ create      â”œâ”€ create       â”œâ”€ create&#10;â””â”€ edit        â”œâ”€ edit         â””â”€ edit&#10;               â”œâ”€ stock&#10;               â””â”€ edit-stock&#10;&#10;expense/       salary/         order/         pos/&#10;â”œâ”€ expense     â”œâ”€ all_employee â”œâ”€ order       â””â”€ pointofsale&#10;â”œâ”€ create      â”œâ”€ create       â”œâ”€ viewOrder&#10;â””â”€ edit        â”œâ”€ index        â””â”€ search&#10;               â”œâ”€ view         home.vue (Dashboard)&#10;               â””â”€ edit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;fontSize=9;fontFamily=Courier New;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="60" y="290" width="280" height="240" as="geometry"/>
        </mxCell>
        
        <!-- Helpers JS -->
        <mxCell id="helpers" value="ðŸ› ï¸ HELPERS (JS Classes)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;ðŸ“Œ User.js&#10;   Estado autenticaciÃ³n&#10;   Info del usuario&#10;&#10;ðŸ“Œ Token.js&#10;   ValidaciÃ³n JWT&#10;   DecodificaciÃ³n&#10;&#10;ðŸ“Œ AppStorage.js&#10;   Manejo localStorage&#10;&#10;ðŸ“Œ Notification.js&#10;   Alertas (Noty, Swal)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;fontSize=9;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="355" y="290" width="130" height="175" as="geometry"/>
        </mxCell>
        
        <!-- Axios HTTP Client -->
        <mxCell id="axios" value="ðŸ“¡ AXIOS HTTP CLIENT (bootstrap.js)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â€¢ Peticiones HTTP a la API REST&#10;â€¢ Base URL: /api/&#10;â€¢ Headers con JWT Token automÃ¡tico" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;fontSize=10;fontStyle=1;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="355" y="475" width="130" height="55" as="geometry"/>
        </mxCell>
        
        <!-- LocalStorage -->
        <mxCell id="localstorage" value="ðŸ’¾ LocalStorage&#10;JWT + User Data" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="60" y="475" width="100" height="55" as="geometry"/>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- CONTENEDOR BACKEND LARAVEL -->
        <!-- ============================================ -->
        <mxCell id="backend-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=3;dashed=0" vertex="1" parent="1">
          <mxGeometry x="700" y="140" width="470" height="400" as="geometry"/>
        </mxCell>
        <mxCell id="backend-title" value="âš™ï¸ BACKEND - Laravel 5.8 MVC + REST API" style="text;html=1;strokeColor=none;fillColor=#82b366;align=center;fontSize=14;fontStyle=1;rounded=1" vertex="1" parent="1">
          <mxGeometry x="720" y="150" width="430" height="25" as="geometry"/>
        </mxCell>
        
        <!-- REQUEST entrante -->
        <mxCell id="request-arrow" value="REQUEST&#10;HTTP" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;fontStyle=1;fontColor=#b85450" vertex="1" parent="1">
          <mxGeometry x="720" y="180" width="60" height="30" as="geometry"/>
        </mxCell>
        
        <!-- Routes -->
        <mxCell id="routes" value="ðŸ“ ROUTES (api.php)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;Define endpoints REST&#10;GET/POST/PUT/DELETE&#10;/api/resource" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b6d7a8;strokeColor=#82b366;align=left;fontSize=9;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="720" y="210" width="130" height="75" as="geometry"/>
        </mxCell>
        
        <!-- Middleware JWT -->
        <mxCell id="middleware" value="ðŸ” MIDDLEWARE (JWT.php)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â€¢ Valida token JWT&#10;â€¢ Protege rutas auth&#10;â€¢ Auth Guard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b6d7a8;strokeColor=#82b366;align=left;fontSize=9;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="870" y="210" width="140" height="75" as="geometry"/>
        </mxCell>
        
        <!-- Controllers -->
        <mxCell id="controllers" value="ðŸŽ® CONTROLLERS (10 Controladores)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;ðŸ“Œ AuthController&#10;   Login, Signup, Logout, Refresh JWT&#10;&#10;ðŸ“Œ Api/ProductController - CRUD productos&#10;ðŸ“Œ Api/EmployeeController - CRUD empleados&#10;ðŸ“Œ Api/CustomerController - CRUD clientes&#10;ðŸ“Œ Api/CategoryController - CRUD categorÃ­as&#10;ðŸ“Œ Api/SupplierController - CRUD proveedores&#10;ðŸ“Œ Api/ExpenseController - CRUD gastos&#10;ðŸ“Œ Api/SalaryController - GestiÃ³n salarios&#10;ðŸ“Œ Api/CartController - Carrito (POS)&#10;ðŸ“Œ Api/PosController - Punto de venta&#10;ðŸ“Œ Api/OrderController - Ã“rdenes/ventas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b6d7a8;strokeColor=#82b366;align=left;fontSize=9;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="1030" y="185" width="230" height="220" as="geometry"/>
        </mxCell>
        
        <!-- Models -->
        <mxCell id="models" value="ðŸ“Š MODELS (Eloquent ORM)&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;ðŸ“Œ User.php - Usuario + JWT&#10;ðŸ“Œ Product.php - Productos&#10;ðŸ“Œ Category.php - CategorÃ­as&#10;ðŸ“Œ Customer.php - Clientes&#10;ðŸ“Œ Employee.php - Empleados&#10;ðŸ“Œ Supplier.php - Proveedores&#10;&#10;+ Query Builder DB::&#10;  para consultas complejas" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b6d7a8;strokeColor=#82b366;align=left;fontSize=9;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="720" y="305" width="180" height="155" as="geometry"/>
        </mxCell>
        
        <!-- Query Builder -->
        <mxCell id="query-builder" value="ðŸ” DB Query Builder&#10;Eloquent ORM&#10;Consultas SQL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b6d7a8;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="920" y="385" width="100" height="55" as="geometry"/>
        </mxCell>
        
        <!-- Response JSON -->
        <mxCell id="response" value="RESPONSE&#10;â†’ JSON" style="text;html=1;strokeColor=none;fillColor=none;align=center;fontSize=10;fontStyle=1;fontColor=#82b366" vertex="1" parent="1">
          <mxGeometry x="720" y="475" width="80" height="30" as="geometry"/>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- BASE DE DATOS -->
        <!-- ============================================ -->
        <mxCell id="database" value="ðŸ—„ï¸ DATABASE&#10;MySQL / MariaDB&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;13 Tablas&#10;Modelo Relacional&#10;UTF8MB4" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=2;fontSize=10;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="870" y="560" width="160" height="110" as="geometry"/>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- FLECHAS DE CONEXIÃ“N -->
        <!-- ============================================ -->
        
        <!-- Browser a Frontend -->
        <mxCell id="arrow-browser-fe" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#6c8ebf" edge="1" parent="1" source="browser-container" target="frontend-container">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Browser a Backend -->
        <mxCell id="arrow-browser-be" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#6c8ebf" edge="1" parent="1" source="browser-container" target="backend-container">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Axios a Routes (API REST) -->
        <mxCell id="arrow-api" value="HTTP/JSON&#10;RESTful API" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=3;strokeColor=#b85450;fontColor=#b85450;fontSize=10;fontStyle=1" edge="1" parent="1" source="axios" target="routes">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Routes a Middleware -->
        <mxCell id="arrow-routes-mw" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#82b366" edge="1" parent="1" source="routes" target="middleware">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Middleware a Controllers -->
        <mxCell id="arrow-mw-ctrl" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#82b366" edge="1" parent="1" source="middleware" target="controllers">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Controllers a Models -->
        <mxCell id="arrow-ctrl-model" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#82b366" edge="1" parent="1" source="controllers" target="models">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Models a Query Builder -->
        <mxCell id="arrow-model-qb" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#82b366" edge="1" parent="1" source="models" target="query-builder">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Models/QueryBuilder a Database -->
        <mxCell id="arrow-to-db" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#666666" edge="1" parent="1" source="query-builder" target="database">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- App.js a Vue Router -->
        <mxCell id="arrow-app-router" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#d79b00" edge="1" parent="1" source="appjs" target="vue-router">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Vue Router a Components -->
        <mxCell id="arrow-router-comp" style="endArrow=classic;html=1;strokeWidth=1;strokeColor=#d79b00" edge="1" parent="1" source="vue-router" target="components">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Components a Helpers -->
        <mxCell id="arrow-comp-helper" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=1;strokeColor=#9673a6" edge="1" parent="1" source="components" target="helpers">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Helpers a LocalStorage -->
        <mxCell id="arrow-helper-ls" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=1;strokeColor=#9673a6;dashed=1" edge="1" parent="1" source="helpers" target="localstorage">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- ============================================ -->
        <!-- LEYENDA -->
        <!-- ============================================ -->
        <mxCell id="legend" value="ðŸ“‹ LEYENDA&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;ðŸ”¹ PatrÃ³n MVC: Model-View-Controller&#10;ðŸ”¹ REST API: ComunicaciÃ³n JSON sobre HTTP&#10;ðŸ”¹ Frontend: SPA Component-Based Architecture&#10;ðŸ”¹ AutenticaciÃ³n: JWT (JSON Web Token)&#10;ðŸ”¹ ORM: Eloquent (Laravel)" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=left;fontSize=10;rounded=1;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="40" y="560" width="270" height="110" as="geometry"/>
        </mxCell>
        
        <!-- Tabla resumen -->
        <mxCell id="resumen" value="ðŸ“Š RESUMEN ARQUITECTURA&#10;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&#10;â”‚ Capa       â”‚ PatrÃ³n         â”‚ Tech       â”‚&#10;â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚&#10;â”‚ Backend    â”‚ MVC + REST API â”‚ Laravel 5.8â”‚&#10;â”‚ Frontend   â”‚ SPA Components â”‚ Vue.js 2.x â”‚&#10;â”‚ Comunic.   â”‚ RESTful HTTP   â”‚ JSON + JWT â”‚&#10;â”‚ Database   â”‚ Relacional     â”‚ MySQL      â”‚" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=left;fontSize=9;rounded=1;fontFamily=Courier New;spacingLeft=5" vertex="1" parent="1">
          <mxGeometry x="330" y="560" width="290" height="110" as="geometry"/>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
